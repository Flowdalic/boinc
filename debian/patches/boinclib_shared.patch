Description: this patch makes the build system create a dynamic shared library.
 Upstream didn't accept this patch because of the unstable api, so this is a
 significative Debian delta.
Index: boinc-v2/lib/Makefile.am
===================================================================
--- boinc-v2.orig/lib/Makefile.am
+++ boinc-v2/lib/Makefile.am
@@ -184,7 +184,7 @@
 libboinc_la_SOURCES = $(generic_sources) $(mac_sources) $(win_sources)
 libboinc_la_CFLAGS = $(AM_CFLAGS) $(PICFLAGS) $(PTHREAD_CFLAGS)
 libboinc_la_CXXFLAGS = $(AM_CXXFLAGS) $(PICFLAGS) $(PTHREAD_CFLAGS)
-libboinc_la_LDFLAGS = -static -version-number $(LIBBOINC_VERSION)
+libboinc_la_LDFLAGS = -version-number $(LIBBOINC_VERSION)
 libboinc_la_LIBADD =
 
 if ENABLE_BOINCCRYPT
@@ -192,7 +192,7 @@
 libboinc_crypt_la_SOURCES = crypt.cpp
 libboinc_crypt_la_CFLAGS = $(AM_CFLAGS) $(PICFLAGS) $(PTHREAD_CFLAGS) $(SSL_CFLAGS)
 libboinc_crypt_la_CXXFLAGS = $(AM_CXXFLAGS) $(PICFLAGS) $(PTHREAD_CFLAGS) $(SSL_CXXFLAGS)
-libboinc_crypt_la_LDFLAGS = -static -version-number $(LIBBOINC_VERSION)
+libboinc_crypt_la_LDFLAGS = -version-number $(LIBBOINC_VERSION)
 libboinc_crypt_la_LIBADD =
 endif
 
Index: boinc-v2/apps/Makefile.am
===================================================================
--- boinc-v2.orig/apps/Makefile.am
+++ boinc-v2/apps/Makefile.am
@@ -8,15 +8,15 @@
 
 upper_case_SOURCES = upper_case.cpp
 upper_case_CXXFLAGS = $(PTHREAD_CFLAGS)
-upper_case_LDFLAGS = -static-libtool-libs $(PTHREAD_CFLAGS)
+upper_case_LDFLAGS = $(PTHREAD_CFLAGS)
 upper_case_LDADD = $(APPLIBS)
 
 concat_SOURCES = concat.cpp
 concat_CXXFLAGS = $(PTHREAD_CFLAGS)
-concat_LDFLAGS = -static-libtool-libs $(PTHREAD_CFLAGS)
+concat_LDFLAGS = $(PTHREAD_CFLAGS)
 concat_LDADD = $(APPLIBS)
 
 1sec_SOURCES = 1sec.cpp
 1sec_CXXFLAGS = $(PTHREAD_CFLAGS)
-1sec_LDFLAGS = -static-libtool-libs $(PTHREAD_CFLAGS)
+1sec_LDFLAGS = $(PTHREAD_CFLAGS)
 1sec_LDADD = $(APPLIBS)
Index: boinc-v2/client/Makefile.am
===================================================================
--- boinc-v2.orig/client/Makefile.am
+++ boinc-v2/client/Makefile.am
@@ -4,7 +4,6 @@
 include $(top_srcdir)/Makefile.incl
 
 if ENABLE_CLIENT_RELEASE
-  AM_LDFLAGS += -static-libtool-libs
 ## for an entirely statically linked library, you may want to try
 ## -all-static instead.  There's a good chance it won't work properly,
 ## so we'll use the safer "-static-libtool-libs" by default.
Index: boinc-v2/clientgui/Makefile.am
===================================================================
--- boinc-v2.orig/clientgui/Makefile.am
+++ boinc-v2/clientgui/Makefile.am
@@ -7,7 +7,6 @@
 include $(top_srcdir)/Makefile.incl
 
 if ENABLE_CLIENT_RELEASE
-  AM_LDFLAGS += -static-libtool-libs
 ## for an entirely statically linked library, you may want to try
 ## -all-static instead.  There's a good chance it won't work properly,
 ## so we'll use the safer "-static-libtool-libs" by default.
Index: boinc-v2/clientscr/Makefile.am
===================================================================
--- boinc-v2.orig/clientscr/Makefile.am
+++ boinc-v2/clientscr/Makefile.am
@@ -5,7 +5,6 @@
 
 AM_LDFLAGS += -lpthread
 if ENABLE_CLIENT_RELEASE
-  AM_LDFLAGS += -static-libtool-libs
 ## for an entirely statically linked library, you may want to try
 ## -all-static instead.  There's a good chance it won't work properly,
 ## so we'll use the safer "-static-libtool-libs" by default.
Index: boinc-v2/sched/Makefile.am
===================================================================
--- boinc-v2.orig/sched/Makefile.am
+++ boinc-v2/sched/Makefile.am
@@ -4,7 +4,6 @@
 include $(top_srcdir)/Makefile.incl
 
 AM_CPPFLAGS += $(MYSQL_CFLAGS) $(PTHREAD_CFLAGS)
-AM_LDFLAGS += -static
 
 if ENABLE_LIBRARIES
 
Index: boinc-v2/tools/Makefile.am
===================================================================
--- boinc-v2.orig/tools/Makefile.am
+++ boinc-v2/tools/Makefile.am
@@ -44,7 +44,6 @@
     gui_urls.xml
 
 AM_CXXFLAGS += $(MYSQL_CFLAGS)
-AM_LDFLAGS += -static
 
 cancel_jobs_SOURCES = cancel_jobs.cpp
 cancel_jobs_LDADD = $(SERVERLIBS)
Index: boinc-v2/vda/Makefile.am
===================================================================
--- boinc-v2.orig/vda/Makefile.am
+++ boinc-v2/vda/Makefile.am
@@ -4,7 +4,6 @@
 vda_PROGRAMS = vda vdad ssim
 
 AM_CXXFLAGS += $(MYSQL_CFLAGS)
-AM_LDFLAGS += -static
 
 vda_SOURCES = vda.cpp vda_lib.cpp vda_lib2.cpp vda_policy.cpp stats.cpp
 vda_LDADD = $(SERVERLIBS)
