# Author: Ren√© Mayorga <rmayorga@debian.org>
# Description: Check if the system is linux befoore use SCHED_BATCH
#  This will prevent FTBFS on  kFreeBSD
#  The patch stills need to be forward to upstream
--- boinc.orig/client/app_start.cpp
+++ boinc/client/app_start.cpp
@@ -24,7 +24,7 @@
 #include "win_util.h"
 #else
 #include "config.h"
-#ifdef HAVE_SCHED_SETSCHEDULER
+#if defined (HAVE_SCHED_SETSCHEDULER) && defined (__linux__)
 #include <sched.h>
 #endif
 #if HAVE_SYS_TIME_H
@@ -851,7 +851,7 @@
                 perror("setpriority");
             }
 #endif
-#ifdef HAVE_SCHED_SETSCHEDULER
+#if defined (HAVE_SCHED_SETSCHEDULER) && defined (__linux__)
             if (!high_priority) {
                 struct sched_param p;
                 p.sched_priority = 0;
